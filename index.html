<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tailscale macOS 원격 접속 가이드</title>
  <meta name="description" content="Tailscale + macOS 화면 공유로 외부에서 집 맥미니를 안전하게 제어하는 방법">
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <div class="layout">
    <!-- Sidebar -->
    <aside class="sidebar">
      <a href="index.html" class="sidebar-logo">
        [VPN] Tailscale <span>Guide</span>
      </a>
      
      <nav>
        <ul class="sidebar-nav">
          <li><a href="index.html" class="active">시작하기</a></li>
        </ul>
        
        <div class="sidebar-section">기본 설정</div>
        <ul class="sidebar-nav">
          <li><a href="#step1">1. 맥미니 화면 공유</a></li>
          <li><a href="#step2">2. Tailscale 설치</a></li>
          <li><a href="#step3">3. 맥북 연결</a></li>
        </ul>
        
        <div class="sidebar-section">문제 해결</div>
        <ul class="sidebar-nav">
          <li><a href="#troubleshoot">트러블슈팅</a></li>
          <li><a href="#wifi-fix">와이파이 문제</a></li>
          <li><a href="#tips">고급 팁</a></li>
        </ul>
        
        <div class="sidebar-section">참고</div>
        <ul class="sidebar-nav">
          <li><a href="https://tailscale.com/kb" target="_blank">Tailscale 공식 문서 ↗</a></li>
          <li><a href="https://github.com/VoidLight00/tailscale-mac-guide" target="_blank">GitHub ↗</a></li>
        </ul>
      </nav>
    </aside>

    <!-- Main Content -->
    <main class="main">
      <div class="hero">
        <h1>Tailscale + macOS 원격 접속</h1>
        <p class="lead">
          집 맥미니를 외부에서 안전하게 제어하는 완벽 가이드.<br>
          포트포워딩 없이 10분이면 완성됩니다.
        </p>
        <div class="hero-badges">
          <span class="badge badge-success">[SAFE] 암호화 터널</span>
          <span class="badge badge-info">[FAST] 10분 설정</span>
          <span class="badge">[FREE] 무료</span>
        </div>
      </div>

      <h2>[TARGET] 이 가이드에서 배우는 것</h2>
      
      <div class="card-grid">
        <div class="card">
          <h4>[LOCK] 안전한 연결</h4>
          <p>WireGuard 기반 암호화 터널로 포트포워딩 없이 안전하게 접속</p>
        </div>
        <div class="card">
          <h4>[SPEED] 빠른 설정</h4>
          <p>네트워크 지식 불필요. 10분이면 완료되는 간단한 설정</p>
        </div>
        <div class="card">
          <h4>[GLOBE] 어디서나</h4>
          <p>카페, 사무실, 해외 어디서든 접속 가능. 공공 와이파이도 OK</p>
        </div>
        <div class="card">
          <h4>[TOOLS] macOS 네이티브</h4>
          <p>별도 VNC 앱 불필요. Finder 기본 "화면 공유" 기능 활용</p>
        </div>
      </div>

      <h2>[LIST] 완성 구조</h2>
      
      <p>이 가이드를 완료하면 다음과 같은 구조가 됩니다:</p>

      <div class="code-header">
        <span>네트워크 구조</span>
      </div>
      <pre><code>┌─────────────────────────────────────────────────────────────┐
│                       집 (맥미니)                            │
│  ┌───────────────────────────────────────────────────────┐  │
│  │  macOS 시스템 설정                                     │  │
│  │  ├─ 화면 공유: ON                                      │  │
│  │  └─ 원격 관리: OFF (중요!)                             │  │
│  └───────────────────────────────────────────────────────┘  │
│                                                             │
│  ┌───────────────────────────────────────────────────────┐  │
│  │  Tailscale 클라이언트                                  │  │
│  │  └─ Tailscale IP: 100.x.x.x                           │  │
│  └───────────────────────────────────────────────────────┘  │
└─────────────────────────────────────────────────────────────┘
                              │
                    ═════════════════════
                    WireGuard 암호화 터널
                    ═════════════════════
                              │
┌─────────────────────────────────────────────────────────────┐
│                  외부 (맥북/카페/사무실)                     │
│  ┌───────────────────────────────────────────────────────┐  │
│  │  Tailscale 클라이언트                                  │  │
│  └───────────────────────────────────────────────────────┘  │
│                                                             │
│  ┌───────────────────────────────────────────────────────┐  │
│  │  Finder → 서버에 연결                                  │  │
│  │  vnc://100.x.x.x                                       │  │
│  └───────────────────────────────────────────────────────┘  │
└─────────────────────────────────────────────────────────────┘</code></pre>

      <h2 id="step1">[STEP 1] 맥미니 화면 공유 활성화</h2>
      
      <div class="steps">
        <div class="step">
          <div class="step-number">1</div>
          <div class="step-content">
            <h4>시스템 설정 열기</h4>
            <p>맥미니에서 <strong>시스템 설정</strong> (또는 시스템 환경설정) 앱을 엽니다.</p>
          </div>
        </div>

        <div class="step">
          <div class="step-number">2</div>
          <div class="step-content">
            <h4>공유 메뉴로 이동</h4>
            <p><strong>일반</strong> → <strong>공유</strong> 클릭</p>
          </div>
        </div>

        <div class="step">
          <div class="step-number">3</div>
          <div class="step-content">
            <h4>화면 공유 켜기</h4>
            <p><strong>"화면 공유"</strong> 토글을 ON으로 설정합니다.</p>
          </div>
        </div>

        <div class="step">
          <div class="step-number">4</div>
          <div class="step-content">
            <h4>접속 권한 설정</h4>
            <p>접속 허용 대상을 선택합니다:</p>
            <ul>
              <li><strong>이 Mac의 모든 사용자</strong> (권장)</li>
              <li>또는 특정 계정만 선택</li>
            </ul>
          </div>
        </div>
      </div>

      <div class="callout callout-warning">
        <div class="callout-title">[WARN] 원격 관리 OFF 필수!</div>
        <p>"원격 관리"와 "화면 공유"를 동시에 켜면 VNC 프로토콜이 충돌합니다. <strong>"원격 관리"는 반드시 OFF</strong>로 설정하세요.</p>
      </div>

      <h2 id="step2">[STEP 2] Tailscale 설치 (맥미니 + 맥북 둘 다)</h2>
      
      <div class="card card-highlight">
        <h3>[APP] Mac App Store에서 설치</h3>
        <ol>
          <li>Mac App Store에서 <strong>"Tailscale"</strong> 검색</li>
          <li>무료 다운로드 후 설치</li>
          <li>앱 실행 → <strong>같은 계정</strong>으로 로그인 (Google/Apple/Microsoft 중 선택)</li>
          <li>상단 메뉴바에 Tailscale 아이콘이 뜨면 완료</li>
        </ol>
      </div>

      <div class="code-header">
        <span>Homebrew로 설치 (선택사항)</span>
        <button class="copy-btn" onclick="copyCode(this, 'brew install tailscale')">복사</button>
      </div>
      <pre><code class="language-bash">brew install tailscale</code></pre>

      <h3>[CHECK] 설치 확인</h3>
      <ul class="checklist">
        <li>✓ 상단 메뉴바에서 Tailscale 아이콘 클릭 → 기기 목록에 두 맥이 보임</li>
        <li>✓ 맥미니 이름 옆에 IP 주소 (예: <code>100.x.x.x</code>)</li>
      </ul>

      <h2 id="step3">[STEP 3] 맥북에서 맥미니 접속</h2>
      
      <div class="steps">
        <div class="step">
          <div class="step-number">1</div>
          <div class="step-content">
            <h4>Finder 열기</h4>
            <p>맥북에서 Finder 앱을 엽니다.</p>
          </div>
        </div>

        <div class="step">
          <div class="step-number">2</div>
          <div class="step-content">
            <h4>서버에 연결</h4>
            <p>상단 메뉴 <strong>이동</strong> → <strong>서버에 연결…</strong> (⌘K)</p>
          </div>
        </div>

        <div class="step">
          <div class="step-number">3</div>
          <div class="step-content">
            <h4>VNC 주소 입력</h4>
            <p>서버 주소에 다음 중 하나 입력:</p>
            
            <div class="code-header">
              <span>Tailscale IP 사용</span>
              <button class="copy-btn" onclick="copyCode(this, 'vnc://100.x.x.x')">복사</button>
            </div>
            <pre><code>vnc://100.x.x.x</code></pre>

            <p class="mt-2">또는 MagicDNS 사용 (더 편함):</p>
            
            <div class="code-header">
              <span>MagicDNS 사용</span>
              <button class="copy-btn" onclick="copyCode(this, 'vnc://macmini.your-tailnet.ts.net')">복사</button>
            </div>
            <pre><code>vnc://macmini.your-tailnet.ts.net</code></pre>
          </div>
        </div>

        <div class="step">
          <div class="step-number">4</div>
          <div class="step-content">
            <h4>로그인 & 연결</h4>
            <ul>
              <li><strong>연결</strong> 버튼 클릭</li>
              <li>맥미니 계정 아이디/비밀번호 입력</li>
              <li>화면 품질: <strong>고성능</strong> 선택 (소리/해상도 지원)</li>
            </ul>
          </div>
        </div>
      </div>

      <div class="callout callout-info">
        <div class="callout-title">[TIP] IP 복사 단축키</div>
        <p>Tailscale 메뉴에서 맥미니 우클릭 → "Copy IP" 하면 주소가 바로 복사됩니다.</p>
      </div>

      <h2 id="troubleshoot">[DEBUG] 문제 해결</h2>
      
      <details class="accordion">
        <summary class="accordion-header">
          <span class="badge badge-error">[ERROR]</span>
          Tailscale 목록에 기기가 안 보여요
        </summary>
        <div class="accordion-content">
          <h4>원인</h4>
          <ul>
            <li>로그인 계정이 다름</li>
            <li>인터넷 연결 끊김</li>
            <li>Tailscale 세션 만료 (5개월)</li>
          </ul>
          
          <h4>해결</h4>
          <ul>
            <li>두 맥 모두 <strong>같은 계정</strong>으로 로그인했는지 확인</li>
            <li>Tailscale 앱 재로그인 시도</li>
            <li>와이파이 연결 확인 (핫스팟 추천, 아래 참고)</li>
          </ul>
        </div>
      </details>

      <details class="accordion">
        <summary class="accordion-header">
          <span class="badge badge-error">[ERROR]</span>
          외부 와이파이에서 연결 안 됨
        </summary>
        <div class="accordion-content">
          <h4>원인</h4>
          <p>공공 와이파이/카페 네트워크가 VPN 포트 차단</p>
          
          <h4>해결: 핫스팟 사용 (최고의 해결책)</h4>
          <div class="card card-highlight">
            <h5>[WIFI] 핫스팟 설정</h5>
            <ol>
              <li>아이폰/안드로이드 개인 핫스팟 켜기</li>
              <li>맥북을 핫스팟에 연결</li>
              <li>Tailscale 연결 → 안정적 터널 형성</li>
            </ol>
            <p class="text-muted">핫스팟은 데이터 사용량 적음 (화면 공유는 네트워크 효율적)</p>
          </div>
        </div>
      </details>

      <details class="accordion">
        <summary class="accordion-header">
          <span class="badge badge-error">[ERROR]</span>
          화면이 까맣게 나오거나 연결 끊김
        </summary>
        <div class="accordion-content">
          <h4>원인</h4>
          <ul>
            <li>맥미니 화면 공유 꺼짐</li>
            <li>잠자기 모드 진입</li>
            <li>"원격 관리"와 충돌</li>
          </ul>
          
          <h4>해결</h4>
          <ul>
            <li><strong>화면 공유 ON</strong> 재확인 (시스템 설정 → 공유)</li>
            <li><strong>원격 관리 OFF</strong> 필수</li>
            <li>에너지 절약: "전원 어댑터 연결 시 잠자기 안 함" 설정</li>
            <li>외장 모니터 연결된 경우: 전원/디스플레이 설정 확인</li>
          </ul>
        </div>
      </details>

      <h2 id="tips">[ADVANCED] 고급 팁</h2>
      
      <div class="card-grid">
        <div class="card">
          <h4>[MOON] 맥미니 24시간 켜두기</h4>
          <p>외부 접속용이라면:</p>
          <ul class="compact-list">
            <li>에너지 절약 → "디스플레이 끄기" 시간 설정</li>
            <li>"전원 어댑터 연결 시 자동으로 잠자기 해제"</li>
            <li>디스플레이는 꺼지지만 시스템 깨어있음</li>
          </ul>
        </div>

        <div class="card">
          <h4>[MOBILE] 아이패드/아이폰 접속</h4>
          <p>모바일에서도 가능:</p>
          <ul class="compact-list">
            <li>App Store에서 Tailscale + RealVNC Viewer 설치</li>
            <li>동일한 방법으로 vnc://IP 접속</li>
            <li>터치로 마우스 제어 가능</li>
          </ul>
        </div>

        <div class="card">
          <h4>[LOCK] 보안 강화</h4>
          <ul class="compact-list">
            <li>Tailscale ACL 설정으로 특정 기기만 접근 허용</li>
            <li>VNC 암호 별도 설정 (화면 공유 설정에서)</li>
            <li>2FA 활성화 (Tailscale 계정)</li>
          </ul>
        </div>

        <div class="card">
          <h4>[SPEED] 속도 최적화</h4>
          <ul class="compact-list">
            <li>Tailscale은 가능하면 직접 P2P 연결 (DERP 릴레이 회피)</li>
            <li>화면 공유 품질: "고성능" vs "최상 품질" 선택</li>
            <li>유선랜 사용 시 더 안정적</li>
          </ul>
        </div>
      </div>

      <h2>[FAQ] 자주 묻는 질문</h2>
      
      <details class="accordion">
        <summary class="accordion-header">
          <span class="badge">Q</span>
          Tailscale 무료인가요?
        </summary>
        <div class="accordion-content">
          <p>네, 개인 사용은 완전 무료입니다. 최대 100대 기기, 1명 사용자까지 무제한. 팀 플랜은 유료입니다.</p>
        </div>
      </details>

      <details class="accordion">
        <summary class="accordion-header">
          <span class="badge">Q</span>
          포트포워딩 필요한가요?
        </summary>
        <div class="accordion-content">
          <p>전혀 필요 없습니다. Tailscale이 자동으로 NAT를 뚫고 P2P 연결을 만들어줍니다. 공유기 설정 변경 불필요.</p>
        </div>
      </details>

      <details class="accordion">
        <summary class="accordion-header">
          <span class="badge">Q</span>
          Windows에서도 되나요?
        </summary>
        <div class="accordion-content">
          <p>네! Tailscale은 Windows, Linux, Android, iOS 모두 지원합니다. 윈도우 → 맥 접속도 가능하며, RDP 대신 VNC를 사용하면 됩니다.</p>
        </div>
      </details>

      <details class="accordion">
        <summary class="accordion-header">
          <span class="badge">Q</span>
          속도가 느려요
        </summary>
        <div class="accordion-content">
          <ul>
            <li>화면 공유 품질을 "최상 품질" → "고성능"으로 변경</li>
            <li>핫스팟 사용 (공공 와이파이보다 빠름)</li>
            <li>Tailscale 상태에서 "Direct" 연결 확인 (Relay 사용 시 느림)</li>
          </ul>
        </div>
      </details>

      <div class="cta">
        <h2>이제 어디서든 내 맥을 제어하세요 🚀</h2>
        <p>10분이면 설정 완료. 안전하고 빠른 원격 접속의 시작.</p>
        <a href="#step1" class="btn btn-primary">처음부터 다시 보기</a>
      </div>

      <footer class="footer">
        <p>Made with 😈 by Belphegor | 2026</p>
        <p>이 가이드는 오픈소스입니다. 자유롭게 공유하세요.</p>
      </footer>

    </main>
  </div>

  <script src="js/main.js"></script>
</body>
</html>
